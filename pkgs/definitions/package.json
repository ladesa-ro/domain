{
  "name": "@ladesa-ro/domain.v3.definitions",
  "private": true,
  "type": "module",
  "version": "3.3.0",
  "scripts": {
    "generate-json-schema:watch": "tsp compile src/main.tsp --config tspconfig.yaml --output-dir '.generated' --watch",
    "generate-json-schema": "nx run generate-json-schema",
    "format:check": "tsp format --check src/**/*.tsp",
    "format:fix": "tsp format src/**/*.tsp",
    "code:check": "bun run format:check",
    "code:fix": "bun run format:fix"
  },
  "devDependencies": {
    "@typespec/compiler": "^1.0.0-rc.1",
    "@typespec/json-schema": "^1.0.0-rc.1"
  },
  "nx": {
    "tags": [
      "definitions"
    ],
    "namedInputs": {
      "src": [
        "{projectRoot}/src/**/*",
        "{projectRoot}/tspconfig*.yaml",
        "{projectRoot}/package.json"
      ]
    },
    "targets": {
      "generate-json-schema": {
        "cache": true,
        "executor": "nx:run-commands",
        "inputs": [
          "src"
        ],
        "options": {
          "cwd": "{projectRoot}",
          "commands": [
            "tsp compile --config tspconfig.yaml --output-dir '.generated' src/main.tsp"
          ],
          "parallel": false
        },
        "outputs": [
          "{projectRoot}/.generated/json-schema/**/*"
        ],
        "dependsOn": [
          "cleanup"
        ]
      },
      "cleanup": {
        "cache": false,
        "executor": "nx:run-commands",
        "options": {
          "cwd": "{projectRoot}",
          "commands": [
            "rm -rf .generated"
          ],
          "parallel": false
        },
        "dependsOn": []
      }
    }
  }
}
